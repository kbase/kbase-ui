angular.module("card-directives",[]),angular.module("card-directives").directive("genomecards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"genome",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("gptype",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"gptype",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})},replace:!0}}).directive("gttype",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"gttype",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("gvtype",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"gvtype",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("gpktype",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"gpktype",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("ggltype",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"ggltype",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("gtvtype",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"gtvtype",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("genecards",function(a){return{link:function(b,c,d){if(cardManager&&cardManager.destroy(),"CDS"==b.params.workspaceID&&(b.params.workspaceID="KBasePublicGenomesV4"),!b.params.genomeID){var e=b.params.featureID.split(".");e.length>3&&(b.params.genomeID=e[0]+"."+e[1])}cardManager=$(c).KBaseCardLayoutManager({template:"gene",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("memecards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"meme",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("cmonkeycards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"cmonkey",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("inferelatorcards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"inferelator",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("regprecisecards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"regprecise",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("makcards",function(a){return{link:function(b,c,d){console.log(b.params.ws),cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"mak",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("floatmakcards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"floatdatatable",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("bambicards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"bambi",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("ppid",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),$(c).KBaseCardLayoutManager({template:"ppid",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("modelcards",function(a,b){return{link:function(a,c,d){function e(){$(document).on("rxnClick",function(c,d){var e="/rxns/"+d.ids;a.$apply(b.path(e))}),$(document).on("coreRxnClick",function(c,d){console.log(d.ids);var e="/rxns/"+d.ids.join("&");a.$apply(b.path(e))})}cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager();var f=kb.req("ws","get_objectmeta",{type:"Model",id:a.id,workspace:a.ws,auth:a.USER_TOKEN});$.when(f).done(function(b){cardManager.addNewCard("kbaseModelMeta",{title:"Model Info",data:b,id:a.id,ws:a.ws},{my:"left top+100",at:"left bottom",of:"#app"})});var f=kb.req("fba","get_models",{models:[a.id],workspaces:[a.ws],auth:a.USER_TOKEN});$.when(f).done(function(b){cardManager.addNewCard("kbaseModelTabs",{modelsData:b,title:"Model Details",id:a.id,ws:a.ws,width:700},{my:"left+400 top+100",at:"left bottom",of:"#app"}),cardManager.addNewCard("kbaseModelCore",{title:"Central Carbon Core Metabolic Pathway",modelsData:b,ids:[a.id],workspaces:[a.ws],width:900},{my:"left+800 top+600",at:"left bottom",of:"#app"}),e()})}}}).directive("fbacards",function(a,b){return{link:function(a,c,d){function e(){$(document).on("rxnClick",function(c,d){var e="/rxns/"+d.ids;a.$apply(b.path(e))}),$(document).on("cpdClick",function(c,d){var e="/cpds/"+d.ids;a.$apply(b.path(e))}),$(document).on("coreRxnClick",function(c,d){console.log(d.ids);var e="/rxns/"+d.ids.join("&");a.$apply(b.path(e))})}cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager();var f=kb.req("ws","get_objectmeta",{type:"FBA",id:a.id,workspace:a.ws,auth:a.USER_TOKEN});$.when(f).done(function(b){cardManager.addNewCard("kbaseFbaMeta",{title:"Model Info",data:b,id:a.id,ws:a.ws},{my:"left top+100",at:"left bottom",of:"#app"})});var f=kb.req("fba","get_fbas",{fbas:[a.id],workspaces:[a.ws],auth:a.USER_TOKEN});$.when(f).done(function(b){cardManager.addNewCard("kbaseFbaTabs",{title:"FBA Details",fbaData:b,id:a.id,ws:a.ws,width:700},{my:"left+400 top+100",at:"left bottom",of:"#app"});var c=b[0].model_workspace,d=b[0].model,f=kb.req("fba","get_models",{models:[d],workspaces:[c],auth:a.USER_TOKEN});$.when(f).done(function(c){cardManager.addNewCard("kbaseModelCore",{title:"Central Carbon Core Metabolic Pathway",modelsData:c,fbasData:b,ids:[a.id],workspaces:[a.ws],width:900},{my:"left+800 top+600",at:"left bottom",of:"#app"}),e()})})}}}).directive("speccards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"spec",data:b.params,auth:a.USER_TOKEN})}}}).directive("wsrefcards",function(a){return{link:function(a,b,c){cardManager&&cardManager.destroy(),cardManager=$(b).KBaseCardLayoutManager({template:"wsref",data:a.params})}}}).directive("wsrefusers",function(a){return{link:function(a,b,c){cardManager&&cardManager.destroy(),cardManager=$(b).KBaseCardLayoutManager({template:"wsrefusers",data:a.params})}}}).directive("wsobjgraphview",function(a){return{link:function(a,b,c){cardManager&&cardManager.destroy(),cardManager=$(b).KBaseCardLayoutManager({template:"wsobjgraphview",data:a.params})}}}).directive("wsobjgraphcenteredview",function(a){return{link:function(a,b,c){var d=$('<div class="panel panel-default"><div class="panel-heading"><span class="panel-title"></span></div><div class="panel-body"></div></div>').css({margin:"10px"});$(b).append(d),d.find(".panel-title").append("Data Provenance and Reference Network"),d.find(".panel-body").KBaseWSObjGraphCenteredView({objNameOrId:a.params.id,wsNameOrId:a.params.ws,kbCache:kb})}}}).directive("treecards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"tree",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("taxonomyview",function(a){return{link:function(a,b,c){cardManager&&cardManager.destroy(),cardManager=$(b).KBaseCardLayoutManager({template:"taxonomy",data:a.params})}}}).directive("pangenomecards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"pangenome",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("msacards",function(a){return{link:function(b,c,d){cardManager&&cardManager.destroy(),cardManager=$(c).KBaseCardLayoutManager({template:"msa",data:b.params,auth:a.USER_TOKEN,userId:a.USER_ID})}}}).directive("kidledtcards",function(a){return{link:function(a,b,c){cardManager&&cardManager.destroy(),cardManager=$(b).KBaseCardLayoutManager({template:"kidledt",data:a.params})}}}).directive("contigsetcards",function(a){return{link:function(a,b,c){cardManager&&cardManager.destroy(),cardManager=$(b).KBaseCardLayoutManager({template:"contigset",data:a.params})}}});