angular.module("trees-directives",[]),angular.module("trees-directives").directive("tree",function(a){return{templateUrl:"lib/trees/tree-template.html",link:function(a,b,c){var d="canvas",e="nhx";knhx_init(d,"nhx"),kn_actions.plot_str();var f='<div class="tree-info"><h4>Stats</h4><table><tr><td># leaves:<td>'+(kn_g_tree?kn_g_tree.n_tips:0)+"<tr><td># nodes:<td>"+(kn_g_tree?kn_g_tree.node.length:0)+"<tr><td>Run time:<td>"+kn_g_conf.runtime+" sec</table></div>";$(".tree-stats").after(f);var g='<button type="button" class="btn btn-default" onClick="document.getElementById("'+e+'").value="\'\'">Clear</button> <button type="button" class="btn btn-default" href="javascript:void(0);" onClick="kn_actions.undo_redo();">Undo/Redo</button> <button type="button" class="btn btn-primary" href="javascript:void(0);" onClick="kn_actions.plot_str();">Draw tree</button><br><br><a class="tree-adv-button">Advanced <div class="caret"></div></a><br><br><div class="adv-tree-options" style="display: none;"><div class="row"><div class="col-md-4"><div class="input-group"><input type="text" class="form-control" id="searchLeaf"><span class="input-group-btn"><a type="button" class="btn btn-default" href="javascript:void(0);"  onClick="kn_search_leaf(kn_g_tree,document.getElementById(\'searchLeaf\').value);kn_actions.plot();">Search</a></span></div></div></div><h4>Options</h4><div class="row"><div class="col-md-3"><form class="form-horizontal" role="form"><div class="form-group"><label for="inputPassword" class="col-md-6 control-label">Width</label><div class="col-md-6"><input class="form-control input-sm" size=5 value="'+kn_g_conf.width+'" onBlur="kn_g_conf.width=this.value;"></div></div><div class="form-group"><label for="inputPassword" class="col-md-6 control-label">Font size:</label><div class="col-md-6"><input class="form-control input-sm" size=5 value="'+kn_g_conf.fontsize+'" onBlur="kn_g_conf.fontsize=this.value;"></div></div><div class="form-group"><label for="inputPassword" class="col-md-6 control-label">Spacing:</label><div class="col-md-6"><input class="form-control input-sm" size=5 value="'+kn_g_conf.yskip+'" onBlur="kn_g_conf.yskip=this.value;"></div></div><div class="form-group"><label for="inputPassword" class="col-md-6 control-label">2nd label: </label><div class="col-md-6"><input class="form-control input-sm" size=10 value="'+kn_g_conf.regex+'" onBlur="kn_g_conf.regex=this.value;"></div></div></div><div class="col-md-3"><div class="checkbox"><label><input type="checkbox" '+(kn_g_conf.is_real?'checked="yes"':"")+'" onChange="kn_g_conf.is_real=this.checked;">Phylogram</label></div><div class="checkbox"><label><input type="checkbox" '+(kn_g_conf.is_circular?'checked="yes"':"")+'" onChange="kn_g_conf.is_circular=this.checked;">Circular</label></div></div></div> <button type="button" class="btn btn-default" href="javascript:void(0);" onClick="window.open(document.getElementById(\''+d+"').toDataURL('image/png'));\">Export to PNG (beta)</button></div></form>";$(".tree-options").append(g),$(".tree-adv-button").click(function(){$(".adv-tree-options").slideToggle()})}}});