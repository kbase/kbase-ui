!function(a){function b(){}b.prototype={htmlEncode:function(a){return null!=a?a.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(a,b){return'<span class="'+b+'">'+this.htmlEncode(a)+"</span>"},valueToHTML:function(a){var b=typeof a,c="";return null==a?c+=this.decorateWithSpan("null","null"):a&&a.constructor==Array?c+=this.arrayToHTML(a):"object"==b?c+=this.objectToHTML(a):"number"==b?c+=this.decorateWithSpan(a,"num"):"string"==b?c+=/^(http|https):\/\/[^\s]+$/.test(a)?'<a href="'+a+'">'+this.htmlEncode(a)+"</a>":this.decorateWithSpan('"'+a+'"',"string"):"boolean"==b&&(c+=this.decorateWithSpan(a,"bool")),c},arrayToHTML:function(a){var b='[<ul class="array collapsible">',c=!1;for(var d in a)c=!0,b+="<li>",b+=this.valueToHTML(a[d]),b+="</li>";return b+="</ul>]",c||(b="[ ]"),b},objectToHTML:function(a){var b='{<ul class="obj collapsible">',c=!1;for(var d in a)c=!0,b+="<li>",b+='<span class="prop">'+this.htmlEncode(d)+"</span>: ",b+=this.valueToHTML(a[d]),b+="</li>";return b+="</ul>}",c||(b="{ }"),b},jsonToHTML:function(a){var b="";return b+='<div id="jsonview">',b+=this.valueToHTML(a),b+="</div>"},errorPage:function(a,b,c){var d='<div id="error">Error parsing JSON: '+a.message+"</div>";return d+="<h1>"+a.stack+":</h1>",d+='<div id="jsonview">'+this.htmlEncode(b)+"</div>",this.toHTML(d,c+" - Error")}},a.fn.JSONView=function(c,d){function e(a){var b=a.parentNode.getElementsByClassName("collapsible");if(b.length)if(b=b[0],"none"==b.style.display){var c=b.parentNode.getElementsByClassName("ellipsis")[0];b.parentNode.removeChild(c),b.style.display="",a.innerHTML="-"}else{b.style.display="none";var c=document.createElement("span");c.className="ellipsis",c.innerHTML=" &hellip; ",b.parentNode.insertBefore(c,b),a.innerHTML="+"}}function f(a){if("LI"==a.nodeName){var b=document.createElement("div");b.className="collapser",b.innerHTML=h.collapsed?"+":"-",b.addEventListener("click",function(a){e(a.target)},!1),a.insertBefore(b,a.firstChild),h.collapsed&&e(b)}}var g={collapsed:!1};d=d||{};var h=a.extend(g,d),i=new b;"[object Object]"!==Object.prototype.toString.call(c)&&(c=JSON.parse(c));var j=i.jsonToHTML(c);a(this).html(j);for(var k=a(this)[0].getElementsByClassName("collapsible"),l=0;l<k.length;l++)f(k[l].parentNode)}}(jQuery);