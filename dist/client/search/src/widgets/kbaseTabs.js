!function(a,b){a.KBWidget({name:"kbaseTabs",version:"1.0.0",_accessors:["tabsHeight"],options:{tabPosition:"top",canDelete:!1,borderColor:"lightgray"},init:function(b){return this._super(b),this.data("tabs",{}),this.data("nav",{}),this.appendUI(a(this.$elem)),this},appendUI:function(c,d){d==b&&(d=this.options.tabs);var e=a("<div></div>").addClass("tabbable"),f=a("<div></div>").addClass("tab-content").attr("id","tabs-content").css("height",this.tabsHeight()),g=a("<ul></ul>").addClass("nav nav-tabs").attr("id","tabs-nav");e.append(g).append(f),this._rewireIds(e,this),c.append(e),d&&a.each(d,a.proxy(function(a,b){this.addTab(b)},this))},addTab:function(c){c.canDelete==b&&(c.canDelete=this.options.canDelete);var d=a("<div></div>").addClass("tab-pane").append(c.content);this.options.border&&(d.css("border","solid "+this.options.borderColor),d.css("border-width","0px 1px 0px 1px"),d.css("padding","3px"));var e=this,f=a("<li></li>").css("white-space","nowrap").append(a("<a></a>").attr("href","#").text(c.tab).attr("data-tab",c.tab).bind("click",function(b){b.preventDefault(),b.stopPropagation();var c=e.data("tabs-nav").find(".active:last a")[0];a.fn.tab.Constructor.prototype.activate.call(a(this),a(this).parent("li"),e.data("tabs-nav")),a.fn.tab.Constructor.prototype.activate.call(a(this),d,d.parent(),function(){a(this).trigger({type:"shown",relatedTarget:c})})}).append(a("<button></button>").addClass("btn btn-default btn-xs").append(a("<i></i>").addClass(this.closeIcon())).css("padding","0px").css("width","22px").css("height","22px").css("margin-left","10px").attr("title",this.deleteTabToolTip(c.tab)).tooltip().bind("click",a.proxy(function(a){a.preventDefault(),a.stopPropagation(),c.deleteCallback!=b?c.deleteCallback(c.tab):this.deletePrompt(c.tab)},this))));c.canDelete||f.find("button").remove(),this.data("tabs")[c.tab]=d,this.data("nav")[c.tab]=f,this.data("tabs-content").append(d),this.data("tabs-nav").append(f);var g=0;for(t in this.data("tabs"))g++;(c.show||1==g)&&this.showTab(c.tab)},closeIcon:function(){return"fa fa-close"},deleteTabToolTip:function(a){return"Remove "+a},hasTab:function(a){return this.data("tabs")[a]},showTab:function(a){this.shouldShowTab(a)&&this.data("nav")[a].find("a").trigger("click")},removeTab:function(a){var c=this.data("tabs")[a],d=this.data("nav")[a];d.hasClass("active")&&(d.next("li").length?d.next().find("a").trigger("click"):d.prev("li").find("a").trigger("click")),c.remove(),d.remove(),this.data("tabs")[a]=b,this.data("nav")[a]=b},shouldShowTab:function(a){return 1},deletePrompt:function(a){this.removeTab(a)},deleteTabCallback:function(c){return a.proxy(function(a,d){d!=b&&d.closePrompt(),this.shouldDeleteTab(c)&&this.removeTab(c)},this)},shouldDeleteTab:function(a){return 1},activeTab:function(){var b=this.data("tabs-nav").find(".active:last a")[0];return a(b).attr("data-tab")}})}(jQuery);