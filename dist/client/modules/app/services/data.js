define(["jquery","bluebird"],function(a,b){"use strict";function c(c){function d(){return b["try"](function(){return!0})}function e(){return b["try"](function(){return!0})}function f(c){if(c.sync){var d;return a.get({url:"/data/"+c.path+"/"+c.file+".json",async:!1,dataType:"json",success:function(a){d=a},error:function(a){throw{type:"AjaxError",reason:"Unknown",message:"There was an error fetching this data object",data:{arg:c,error:a}}}}),d}return new b.resolve(a.get("/data/"+c.path+"/"+c.file+".json"))}c.runtime;return{start:d,stop:e,getJson:f}}return{make:function(a){return c(a)}}});