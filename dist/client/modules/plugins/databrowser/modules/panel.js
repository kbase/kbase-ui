define(["promise","kb/common/html","kb/common/dom","kb/widget/widgetSet"],function(a,b,c,d){"use strict";function e(e){function f(){return{title:"Data Browser",content:r({"class":"kb-panel-databrowser container-fluid"},[r({"class":"row"},[r({"class":"col-md-12"},[b.bsPanel("Data Browser Widget",r({id:q.addWidget("databrowser_widget")}))])])])}}function g(){return a["try"](function(){return q.init(e)})}function h(d){return a["try"](function(){return n=d,o=c.createElement("div"),n.appendChild(o),o.innerHTML=b.flatten(s.content),p.send("ui","setTitle",s.title),q.attach(d)})}function i(){return a["try"](function(){return n.removeChild(o),o=null,q.detach()})}function j(b){return a["try"](function(){return q.start(b)})}function k(b){return a["try"](function(){return q.run(b)})}function l(){return a["try"](function(){return q.stop()})}function m(){return a["try"](function(){return q.destroy()})}var n,o,p=e.runtime,q=d.make({runtime:p}),r=b.tag("div"),s=f();return{init:g,attach:h,detach:i,start:j,run:k,stop:l,destroy:m}}return{make:function(a){return e(a)}}});