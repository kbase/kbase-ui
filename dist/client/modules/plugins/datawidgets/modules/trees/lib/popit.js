define([],function(){"use strict";var a=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},b=function(){var c,d,e=document.all&&!window.opera,f=null,g=function(a,b){for(;b.parentNode;)if(b=b.parentNode,b===a)return!0;return!1};this.createMenu=function(c){f=document.createElement("div"),f.setAttribute("id","popdiv"),f.style.position="absolute",f.style.backgroundColor="#fcfcfc",f.style.border="1px solid #ccc",f.style.zIndex="100",f.style.visibility="hidden",f.style.fontSize="12px",f.onmouseover=b.clear,a(f,"mouseout",b.autoHide),a(f,"click",c),document.body.appendChild(f)},this.clear=function(){c&&clearTimeout(c)},this.hide=function(){f&&(f.style.visibility="hidden")},this.delayedHide=function(){c=setTimeout(function(){b.hide()},500)},this.clickHide=function(a){d&&(new Date).getTime()-d>500&&f&&(a.pageX<f.offsetLeft||a.pageX>f.offsetLeft+f.offsetWidth||a.pageY<f.offsetTop||a.pageY>f.offsetTop+f.offsetHeight)&&b.hide(a)},this.autoHide=function(a){e&&!f.contains(a.toElement)?b.hide():a.currentTarget===a.relatedTarget||g(a.currentTarget,a.relatedTarget)||b.hide()},this.show=function(a,b,c,g){var h=document.compatMode&&-1!==document.compatMode.indexOf("CSS")?document.documentElement:document.body;this.clear(),null===f&&this.createMenu(g),f.innerHTML=b,f.style.width=void 0===c?c:"150px";var i=e?event.clientX:a.clientX,j=e?event.clientY:a.clientY,k=e?h.clientWidth-i:window.innerWidth-i,l=e?h.clientHeight-j:window.innerHeight-j;k<f.offsetWidth?f.style.left=(e?h.scrollLeft:window.pageXOffset)+i-f.offsetWidth+"px":f.style.left=(e?h.scrollLeft:window.pageXOffset)+i+"px",l<f.offsetHeight?f.style.top=(e?h.scrollTop:window.pageYOffset)+j-f.offsetHeight+"px":f.style.top=(e?h.scrollTop:window.pageYOffset)+j+"px",f.style.visibility="visible",d=(new Date).getTime()}};return a(window,"click",b.clickHide),new b});