define(["promise","kb/common/html","kb_widgetCollection","kb_widget_FunctionSpecification"],function(a,b,c,d){"use strict";function e(e){return new a(function(a){var e=c.make(),f=b.tag("div"),g=f({"class":"kbase-view kbase-spec-view container-fluid","data-kbase-view":"spec"},[f({"class":"row"},[f({"class":"col-sm-12"},[f({id:e.addFactoryWidget("functiontspec",d)})])])]);a({title:"Data Type Specification",content:g,widgets:e.getWidgets()})})}function f(b){function c(b){return new a(function(a){a()})}function d(b){return new a(function(a){i=b,j=document.createElement("div"),i.appendChild(j),k=$(j),a()})}function f(b){return new a(function(c,d){e(b).then(function(d){j.innerHTML=d.content,runtime.send("ui","setTitle",d.title),l=d.widgets,a.all(l.map(function(a){return console.log("creating..."),console.log(a),a.widget.create(a.config)})).then(function(){a.all(l.map(function(a){return a.widget.attach($("#"+a.id).get(0))})).then(function(d){a.all(l.map(function(a){return a.widget.start(b)})).then(function(a){c()})["catch"](function(a){console.log("ERROR starting"),console.log(a)}).done()})["catch"](function(a){console.log("ERROR attaching"),console.log(a)}).done()})["catch"](function(a){console.log("ERROR creating"),console.log(a)}).done()})["catch"](function(a){console.log("ERROR rendering console"),console.log(a),d(a)}).done()})}function g(){return new a(function(a){a()})}function h(){return new a(function(a){a()})}var i,j,k,l=[];return{init:c,attach:d,start:f,stop:g,detach:h}}return{make:function(a){return f(a)}}});