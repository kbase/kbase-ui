define(["promise","kb/common/html","kb/common/dom","kb/widget/widgetSet"],function(a,b,c,d){"use strict";function e(e){function f(){var a=b.tag("h1"),c=b.tag("h2"),d=b.tag("p"),e=b.tag("div");return e([a("Data Widget Test Page"),c("Widget 1"),d("This widget simply renders the programmer's name"),e({id:q.addWidget("kb_datawidgetdemo_myDataWidget")}),c("Widget 2"),d("This widget actually fetches some data, some profile data for the current user."),e({id:q.addWidget("kb_datawidgetdemo_myProfileWidget")})])}function g(){return a["try"](function(){return q.init()})}function h(b){return a["try"](function(){return m=b,n=c.createElement("div"),m.appendChild(n),n.innerHTML=o,q.attach(n)})}function i(){return a["try"](function(){return p.send("ui","setTitle","Hello, Welcome to KBase"),q.start()})}function j(){return a["try"](function(){return q.run()})}function k(){return a["try"](function(){return q.stop()})}function l(){return a["try"](function(){return m.removeChild(n),q.detach()})}var m,n,o,p=e.runtime,q=d.make({runtime:p});return o=f(),{init:g,attach:h,start:i,run:j,stop:k,detach:l}}return{make:function(a){return e(a)}}});