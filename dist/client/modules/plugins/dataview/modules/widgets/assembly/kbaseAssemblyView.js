define(["jquery","kb/common/html","kb/service/client/workspace","kb/widget/legacy/authenticatedWidget"],function(a,b,c){"use strict";a.KBWidget({name:"kbaseAssemblyView",parent:"kbaseAuthenticatedWidget",version:"1.0.0",ws_id:null,ws_name:null,token:null,job_id:null,width:1150,options:{ws_id:null,ws_name:null,job_id:null},timer:null,init:function(a){return this._super(a),this.wsUrl=this.runtime.getConfig("services.workspace.url"),this.ws_name=a.ws_name,this.ws_id=a.ws_id,a.job_id&&(this.job_id=a.job_id),a.ws&&a.id&&(this.ws_id=a.id,this.ws_name=a.ws),this},render:function(){var a=this,d=this.$elem;if(null===a.token)return d.empty(),void d.append("<div>[Error] You're not logged in</div>");var e=new c(a.wsUrl,{token:a.token}),f=function(){d.empty(),d.append(b.loading("loading data..."));var c;c=a.ws_id,e.get_objects([{ref:a.ws_name+"/"+c}],function(a){d.empty();var b='<div class="" style="margin-top:15px">',c=a[0].data.report;b+="<pre><code>"+c+"</code></pre><br>",d.append(b)},function(a){d.empty(),d.append("<p>[Error] "+a.error.message+"</p>")})};return f(),this},getData:function(){return{type:"NarrativeTempCard",id:this.ws_name+"."+this.ws_id,workspace:this.ws_name,title:"Temp Widget"}},loggedInCallback:function(a,b){return this.token=b.token,this.render(),this},loggedOutCallback:function(a,b){return this.token=null,this.render(),this}})});