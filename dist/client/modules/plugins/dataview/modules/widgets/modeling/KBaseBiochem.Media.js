define(["kb_dataview_widget_modeling_objects"],function(a){"use strict";function b(a){var b=this;this.tabwidget=a,this.setMetadata=function(a){this.overview={wsid:a[7]+"/"+a[1],objecttype:a[2],owner:a[5],instance:a[4],moddate:a[3],name:a[10].Name,source:a[10]["Source ID"],minimal:a[10]["Is Minimal"],defined:a[10]["Is Defined"],numcompounds:a[10]["Number compounds"]}},this.setData=function(a){this.data=a,this.mediacompounds=this.data.mediacompounds,this.reagents=this.data.reagents,this.cpdhash={};for(var c=[],d=0;d<this.mediacompounds.length;d++){var e=this.mediacompounds[d];e.id=e.compound_ref.split("/").pop(),this.cpdhash[e.id]=e,c.push(e.id)}var f=this.tabwidget.getBiochemCompounds(c).done(function(a){for(var c=0;c<b.mediacompounds.length;c++){var d=b.mediacompounds[c];d.name=a[c].name,d.formula=a[c].formula,d.charge=a[c].charge,d.deltaG=a[c].deltaG,d.deltaGErr=a[c].deltaGErr,d.abbrev=a[c].abbrev}});return f},this.CompoundTab=function(a){var b=this.cpdhash[a.id];return[{label:"Compound",data:b.id},{label:"Name",data:b.name},{label:"Formula",data:b.formula},{label:"Charge",data:b.charge},{label:"deltaG",data:b.deltaG},{label:"Max flux",data:b.maxFlux},{label:"Min flux",data:b.minFlux},{label:"Concentration",data:b.concentration}]},this.tabList=[{key:"overview",name:"Overview",type:"verticaltbl",rows:[{label:"ID",key:"wsid"},{label:"Object type",key:"objecttype",type:"typelink"},{label:"Owner",key:"owner"},{label:"Version",key:"instance"},{label:"Mod-date",key:"moddate"},{label:"Name",key:"name"},{label:"Source",key:"source"},{label:"Is minimal",key:"minimal"},{label:"Is defined",key:"defined"},{label:"Number compounds",key:"numcompounds"}]},{key:"mediacompounds",name:"Media compounds",type:"dataTable",columns:[{label:"Compound",key:"id",type:"tabLink",linkformat:"dispID",method:"CompoundTab"},{label:"Name",key:"name"},{label:"Formula",key:"formula"},{label:"Charge",key:"charge"}]},{key:"reagents",name:"Reagents",type:"dataTable",columns:[{label:"Reagent",key:"id"},{label:"Name",key:"name"},{label:"Concentration",key:"concentration"}]}]}a.prototype.KBaseBiochem_Media=b});