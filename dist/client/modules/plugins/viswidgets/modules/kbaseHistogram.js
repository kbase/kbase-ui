define(["jquery","d3","kb_vis_barchart"],function(a,b){"use strict";a.KBWidget({name:"kbaseHistogram",parent:"kbaseBarchart",version:"1.0.0",options:{scaleAxes:!0,height:"500px",xPadding:80,yPadding:40},_accessors:["minBin","maxBin"],setDataset:function(b){a.isArray(b.data)||(b=b.data);var c=[],d=0;for(d=0;d<b.data[0].length-1;d++){var e=b.data[0][d],f=b.data[1][d],g=d<b.data[0].length-1?" to "+b.data[0][d+1]:" and up",h="Bin "+e+g;c.push({bar:h,value:f,color:"white",stroke:"black",strokeWidth:1})}this.setYLabel(b.column_labels[0]),this.setXLabel(b.row_labels[0]),this.minBin(b.data[0][0]),this.maxBin(b.data[0][b.data[0].length-1]),this._super(c)},renderXAxis:function(){if(void 0!==this.xScale()&&void 0!==this.xScale().domain){var a=b.scale.linear().domain([this.minBin(),this.maxBin()]).range([0,this.chartBounds().size.width]),c=b.svg.axis().scale(a).orient("bottom").ticks(10),d=this.D3svg().select(".yPadding").select(".xAxis");void 0===d[0][0]&&(d=this.D3svg().select(".yPadding").append("g").attr("class","xAxis axis"));d.transition().duration(0).call(c)}},renderXLabel:function(){var a=this.yGutterBounds(),b=[this.xLabel()],c=this.D3svg().select(this.region("yPadding")).selectAll(".xLabel");c.data(b).text(this.xLabel()).enter().append("text").attr("class","xLabel").attr("x",a.size.width/2).attr("y",25+a.size.height/2+3).attr("text-anchor","middle").attr("font-size","11px").attr("font-family","sans-serif").attr("fill","black").text(this.xLabel())},renderYLabel:function(){var a=this.xGutterBounds(),b=[this.yLabel()],c=this.D3svg().select(this.region("xPadding")).selectAll(".yLabel");c.data(b).text(this.yLabel()).enter().append("text").attr("class","yLabel").attr("x",a.size.width/2).attr("y",10+a.size.height/2+3).attr("text-anchor","middle").attr("font-size","11px").attr("font-family","sans-serif").attr("fill","black").attr("transform","rotate(270,"+(a.size.width/2-7)+","+a.size.height/2+")").text(this.yLabel())}})});