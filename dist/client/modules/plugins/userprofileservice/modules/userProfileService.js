define(["jquery"],function(a){"use strict";function b(b,c,d){function e(){if(!g){if(g=!0,!window.console)return;console.log("DEPRECATION WARNING: '*_async' method names will be removed","in a future version. Please use the identical methods without","the'_async' suffix.")}}function f(c,d,e,f,g){var j=a.Deferred();"function"==typeof f&&j.done(f),"function"==typeof g&&j.fail(g);var k={params:d,method:c,version:"1.1",id:String(Math.random()).slice(2)},l=null,m=i&&"function"==typeof i?i():h.token?h.token:null;null!==m&&(l=function(a){a.setRequestHeader("Authorization",m)});var n=jQuery.ajax({url:b,dataType:"text",type:"POST",processData:!1,data:JSON.stringify(k),beforeSend:l,success:function(a){var c,d;try{d=JSON.parse(a),c=1===e?d.result[0]:d.result}catch(f){return void j.reject({status:503,error:f,url:b,resp:a})}j.resolve(c)},error:function(a){var b,c;if(a.responseText)try{c=JSON.parse(a.responseText),b=c.error}catch(d){b="Unknown error - "+a.responseText}else b="Unknown Error";j.reject({status:500,error:b})}}),o=j.promise();return o.xhr=n,o}this.url=b;var g=!1;("string"!=typeof b||0===b.length)&&(b="https://kbase.us/services/user_profile/rpc");var h=c?c:{token:"",user_id:""},i=d;this.ver=function(a,b){return f("UserProfile.ver",[],1,a,b)},this.ver_async=function(a,b){return e(),f("UserProfile.ver",[],1,a,b)},this.filter_users=function(a,b,c){return f("UserProfile.filter_users",[a],1,b,c)},this.filter_users_async=function(a,b,c){return e(),f("UserProfile.filter_users",[a],1,b,c)},this.get_user_profile=function(a,b,c){return f("UserProfile.get_user_profile",[a],1,b,c)},this.get_user_profile_async=function(a,b,c){return e(),f("UserProfile.get_user_profile",[a],1,b,c)},this.set_user_profile=function(a,b,c){return f("UserProfile.set_user_profile",[a],0,b,c)},this.set_user_profile_async=function(a,b,c){return e(),f("UserProfile.set_user_profile",[a],0,b,c)},this.update_user_profile=function(a,b,c){return f("UserProfile.update_user_profile",[a],0,b,c)},this.update_user_profile_async=function(a,b,c){return e(),f("UserProfile.update_user_profile",[a],0,b,c)},this.lookup_globus_user=function(a,b,c){return f("UserProfile.lookup_globus_user",[a],1,b,c)},this.lookup_globus_user_async=function(a,b,c){return e(),f("UserProfile.lookup_globus_user",[a],1,b,c)}}return b});