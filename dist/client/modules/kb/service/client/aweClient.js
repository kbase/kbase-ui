define(["jquery","bluebird"],function(a,b){"use strict";function c(a){var c=this;c.url="https://kbase.us/services/awe-api/",c.auth_header={},a.url&&(c.url=a.url),a.token&&(c.auth_header={Authorization:"OAuth "+a.token}),c.get_job=function(a,d,e){var f=c.url+"/job/"+a,g=jQuery.Deferred();return jQuery.ajax(f,{success:function(a){var b=!1;a?a.error?e&&e(a.error):a.data?d(a.data):b=!0:b=!0,b&&e&&e("Error: invalid data returned from AWE server"),g.resolve()},error:function(a,b){e&&e(b),g.resolve()},headers:c.auth_header,type:"GET"}),b.resolve(g)}}return c});