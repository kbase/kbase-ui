define(["jquery","bluebird"],function(a,b){"use strict";function c(c,d,e){function f(){if(!i){if(i=!0,!window.console)return;console.log("DEPRECATION WARNING: '*_async' method names will be removed","in a future version. Please use the identical methods without","the'_async' suffix.")}}function g(c,d,e,f,g){var i=a.Deferred();"function"==typeof f&&i.done(f),"function"==typeof g&&i.fail(g);var l={params:d,method:c,version:"1.1",id:String(Math.random()).slice(2)},m=null,n=k&&"function"==typeof k?k():j.token?j.token:null;null!==n&&(m=function(a){a.setRequestHeader("Authorization",n)});var o=jQuery.ajax({url:h,dataType:"text",type:"POST",processData:!1,data:JSON.stringify(l),beforeSend:m,success:function(a,b,c){var d;try{var f=JSON.parse(a);d=1===e?f.result[0]:f.result}catch(g){return void i.reject({status:503,error:g,url:h,resp:a})}i.resolve(d)},error:function(a,b,c){var d;if(a.responseText)try{var e=JSON.parse(a.responseText);d=e.error}catch(f){d="Unknown error - "+a.responseText}else d="Unknown Error";i.reject({status:500,error:d})}}),p=i.promise();return p.xhr=o,b.resolve(p)}this.url=c;var h=c,i=!1;("string"!=typeof h||0===h.length)&&(h="https://kbase.us/services/trees");var j=d?d:{token:"",user_id:""},k=e;this.replace_node_names=function(a,b,c,d){return g("KBaseTrees.replace_node_names",[a,b],1,c,d)},this.replace_node_names_async=function(a,b,c,d){return f(),g("KBaseTrees.replace_node_names",[a,b],1,c,d)},this.remove_node_names_and_simplify=function(a,b,c,d){return g("KBaseTrees.remove_node_names_and_simplify",[a,b],1,c,d)},this.remove_node_names_and_simplify_async=function(a,b,c,d){return f(),g("KBaseTrees.remove_node_names_and_simplify",[a,b],1,c,d)},this.merge_zero_distance_leaves=function(a,b,c){return g("KBaseTrees.merge_zero_distance_leaves",[a],1,b,c)},this.merge_zero_distance_leaves_async=function(a,b,c){return f(),g("KBaseTrees.merge_zero_distance_leaves",[a],1,b,c)},this.extract_leaf_node_names=function(a,b,c){return g("KBaseTrees.extract_leaf_node_names",[a],1,b,c)},this.extract_leaf_node_names_async=function(a,b,c){return f(),g("KBaseTrees.extract_leaf_node_names",[a],1,b,c)},this.extract_node_names=function(a,b,c){return g("KBaseTrees.extract_node_names",[a],1,b,c)},this.extract_node_names_async=function(a,b,c){return f(),g("KBaseTrees.extract_node_names",[a],1,b,c)},this.get_node_count=function(a,b,c){return g("KBaseTrees.get_node_count",[a],1,b,c)},this.get_node_count_async=function(a,b,c){return f(),g("KBaseTrees.get_node_count",[a],1,b,c)},this.get_leaf_count=function(a,b,c){return g("KBaseTrees.get_leaf_count",[a],1,b,c)},this.get_leaf_count_async=function(a,b,c){return f(),g("KBaseTrees.get_leaf_count",[a],1,b,c)},this.get_tree=function(a,b,c,d){return g("KBaseTrees.get_tree",[a,b],1,c,d)},this.get_tree_async=function(a,b,c,d){return f(),g("KBaseTrees.get_tree",[a,b],1,c,d)},this.get_alignment=function(a,b,c,d){return g("KBaseTrees.get_alignment",[a,b],1,c,d)},this.get_alignment_async=function(a,b,c,d){return f(),g("KBaseTrees.get_alignment",[a,b],1,c,d)},this.get_tree_data=function(a,b,c){return g("KBaseTrees.get_tree_data",[a],1,b,c)},this.get_tree_data_async=function(a,b,c){return f(),g("KBaseTrees.get_tree_data",[a],1,b,c)},this.get_alignment_data=function(a,b,c){return g("KBaseTrees.get_alignment_data",[a],1,b,c)},this.get_alignment_data_async=function(a,b,c){return f(),g("KBaseTrees.get_alignment_data",[a],1,b,c)},this.get_tree_ids_by_feature=function(a,b,c){return g("KBaseTrees.get_tree_ids_by_feature",[a],1,b,c)},this.get_tree_ids_by_feature_async=function(a,b,c){return f(),g("KBaseTrees.get_tree_ids_by_feature",[a],1,b,c)},this.get_tree_ids_by_protein_sequence=function(a,b,c){return g("KBaseTrees.get_tree_ids_by_protein_sequence",[a],1,b,c)},this.get_tree_ids_by_protein_sequence_async=function(a,b,c){return f(),g("KBaseTrees.get_tree_ids_by_protein_sequence",[a],1,b,c)},this.get_alignment_ids_by_feature=function(a,b,c){return g("KBaseTrees.get_alignment_ids_by_feature",[a],1,b,c)},this.get_alignment_ids_by_feature_async=function(a,b,c){return f(),g("KBaseTrees.get_alignment_ids_by_feature",[a],1,b,c)},this.get_alignment_ids_by_protein_sequence=function(a,b,c){return g("KBaseTrees.get_alignment_ids_by_protein_sequence",[a],1,b,c)},this.get_alignment_ids_by_protein_sequence_async=function(a,b,c){return f(),g("KBaseTrees.get_alignment_ids_by_protein_sequence",[a],1,b,c)},this.get_tree_ids_by_source_id_pattern=function(a,b,c){return g("KBaseTrees.get_tree_ids_by_source_id_pattern",[a],1,b,c)},this.get_tree_ids_by_source_id_pattern_async=function(a,b,c){return f(),g("KBaseTrees.get_tree_ids_by_source_id_pattern",[a],1,b,c)},this.get_leaf_to_protein_map=function(a,b,c){return g("KBaseTrees.get_leaf_to_protein_map",[a],1,b,c)},this.get_leaf_to_protein_map_async=function(a,b,c){return f(),g("KBaseTrees.get_leaf_to_protein_map",[a],1,b,c)},this.get_leaf_to_feature_map=function(a,b,c){return g("KBaseTrees.get_leaf_to_feature_map",[a],1,b,c)},this.get_leaf_to_feature_map_async=function(a,b,c){return f(),g("KBaseTrees.get_leaf_to_feature_map",[a],1,b,c)},this.import_tree_from_cds=function(a,b,c,d){return g("KBaseTrees.import_tree_from_cds",[a,b],1,c,d)},this.import_tree_from_cds_async=function(a,b,c,d){return f(),g("KBaseTrees.import_tree_from_cds",[a,b],1,c,d)},this.compute_abundance_profile=function(a,b,c){return g("KBaseTrees.compute_abundance_profile",[a],1,b,c)},this.compute_abundance_profile_async=function(a,b,c){return f(),g("KBaseTrees.compute_abundance_profile",[a],1,b,c)},this.filter_abundance_profile=function(a,b,c,d){return g("KBaseTrees.filter_abundance_profile",[a,b],1,c,d)},this.filter_abundance_profile_async=function(a,b,c,d){return f(),g("KBaseTrees.filter_abundance_profile",[a,b],1,c,d)},this.draw_html_tree=function(a,b,c,d){return g("KBaseTrees.draw_html_tree",[a,b],1,c,d)},this.draw_html_tree_async=function(a,b,c,d){return f(),g("KBaseTrees.draw_html_tree",[a,b],1,c,d)},this.construct_species_tree=function(a,b,c){return g("KBaseTrees.construct_species_tree",[a],1,b,c)},this.construct_species_tree_async=function(a,b,c){return f(),g("KBaseTrees.construct_species_tree",[a],1,b,c)},this.construct_multiple_alignment=function(a,b,c){return g("KBaseTrees.construct_multiple_alignment",[a],1,b,c)},this.construct_multiple_alignment_async=function(a,b,c){return f(),g("KBaseTrees.construct_multiple_alignment",[a],1,b,c)},this.construct_tree_for_alignment=function(a,b,c){return g("KBaseTrees.construct_tree_for_alignment",[a],1,b,c)},this.construct_tree_for_alignment_async=function(a,b,c){return f(),g("KBaseTrees.construct_tree_for_alignment",[a],1,b,c)},this.find_close_genomes=function(a,b,c){return g("KBaseTrees.find_close_genomes",[a],1,b,c)},this.find_close_genomes_async=function(a,b,c){return f(),g("KBaseTrees.find_close_genomes",[a],1,b,c)},this.guess_taxonomy_path=function(a,b,c){return g("KBaseTrees.guess_taxonomy_path",[a],1,b,c)},this.guess_taxonomy_path_async=function(a,b,c){return f(),g("KBaseTrees.guess_taxonomy_path",[a],1,b,c)},this.build_genome_set_from_tree=function(a,b,c){return g("KBaseTrees.build_genome_set_from_tree",[a],1,b,c)},this.build_genome_set_from_tree_async=function(a,b,c){return f(),g("KBaseTrees.build_genome_set_from_tree",[a],1,b,c)}}return c});