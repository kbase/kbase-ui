define(["jquery","kb/widget/legacy/widget"],function(a){"use strict";a.KBWidget({name:"kbTabs",version:"1.0.0",init:function(b){this._super(b),b||(b={});var c=this.$elem,d=this,e=a('<ul class="nav nav-'+(b.pills?"pills":"tabs")+'">'),f=a('<div class="tab-content">');if(c.append(e,f),this.addTab=function(c){if(!(e.find('a[data-id="'+c.name+'"]').length>0)){var g=a('<li class="'+(c.active?"active":"")+'">'),h=a('<a data-toggle="tab" data-id="'+c.name+'">'+c.name+"</a>");if(c.animate===!1?(g.append(h),e.append(g)):(g.append(h).hide(),e.append(g)),c.removable||b.removable){var i=a('<span class="glyphicon glyphicon-remove">');h.append(i),i.click(function(a){d.rmTab(c.name)})}var j=a('<div class="tab-pane '+(c.active?"active":"")+'" data-id="'+c.name+'">');return j.append(c.content?c.content:""),f.append(j),g.click(function(b){b.preventDefault(),b.stopPropagation();var c=a(this).find("a").data("id");d.showTab(c)}),c.content}},this.rmTab=function(a){var b=e.find('a[data-id="'+a+'"]').parent("li"),c=f.children('[data-id="'+a+'"]');if(b.next().length>0)var g=b.next().children("a").data("id");else var g=b.prev().children("a").data("id");b.remove(),c.remove(),d.showTab(g)},this.tab=function(a){return e.children('[data-id="'+a+'"]')},this.tabContent=function(a){return f.children('[data-id="'+a+'"]')},this.addContent=function(a){var b=f.children('[data-id="'+a.name+'"]');return b.append(a.content?a.content:""),b},this.setContent=function(a){var b=f.children('[data-id="'+a.name+'"]');return b.empty(),b.append(a.content?a.content:""),b},this.showTab=function(a){e.children("li").removeClass("active"),f.children(".tab-pane").removeClass("active"),e.find('a[data-id="'+a+'"]').parent().addClass("active"),f.children('[data-id="'+a+'"]').addClass("active")},this.getTabNav=function(){return e},"tabs"in b)for(var g in b.tabs){var h=a.extend(b.tabs[g],{animate:!1});this.addTab(h)}return this}})});