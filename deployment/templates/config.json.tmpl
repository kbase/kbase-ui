{
    "deploy": {
        "id": "kbase-ui",
        "target": "/kb/deployment/app",
        "basePath":  "{{ default "" .Env.deploy_basepath }}",
        "environment": "{{ .Env.deploy_environment }}",
        "displayEnvironment": {{ eq .Env.deploy_environment "prod" | ternary true false }},
        "hostname": "{{ .Env.deploy_hostname }}",
        "icon": "{{ .Env.deploy_icon }}",
        "name": "{{ .Env.deploy_name }}",
        "ui": {
            "origin": "https://{{ default .Env.deploy_hostname .Env.deploy_ui_hostname }}"
        },
        "services": {
            "urlBase": "{{ .Env.deploy_hostname }}",
            "dynamicServiceProxies": []
        }
    },
    "ui": {
        "apps": {
            "NarrativeManager": {
                "loadingTimers": {
                    "slow": 3000,
                    "verySlow": 10000
                }
            }
        },
        "services": {
            "connection": {
                "name": "Connection"
            },
            "coreService": {
                "name": "Core Service Monitor"
            },
            "instrumentation": {
                "name": "Instrumentation"
            },
            "notification": {
                "name": "Notification"
            },
            "session": {
                "name": "Session",
                "cookie": {
                    "maxAge": 5184000,
                    "name": "kbase_session",
                    "backup": {
                        "name": "kbase_session_backup",
                        "domain": {{ if .Env.ui_backupCookie_domain }}"{{.Env.ui_backupCookie_domain}}"{{else}}null{{end}},
                        "enabled": {{ default "false" .Env.ui_backupCookie_enabled }}
                    }
                },
                "loginWidget": "kb_login_signin",
                "cookieChangeDetectionInterval": 1000,
                "tokenValidationInterval": 300000
            },
            "userprofile": {
                "name": "User Profile"
            },
            "feeds": {
                "name": "Feeds",
                "pollInterval": 10000
            }
        },
        "urls": {
            "marketing": {
                "url": "www.kbase.us",
                "title": "Marketing Site"
            },
            "documentation": {
                "url": "docs.kbase.us",
                "title": "Documentation Site"
            },
            "statusPage": {
                "url": "http://kbase.us/internal/status",
                "title": "KBase Status Page"
            },
            "submitJiraTicket": {
                "url": "https://atlassian.kbase.us/secure/CreateIssueDetails!init.jspa?pid=10200&issuetype=1&description=#Narrative%20version",
                "title": "Submit a Jira Ticket"
            },
            "narrative": {
                "url": "https://{{ .Env.deploy_hostname }}.kbase.us/narrative",
                "title": "Narrative User Interface"
            },
            "loginHelp": {
                "url": "https://www.kbase.us/support",
                "title": "Login Help"
            },
            "narrativeGuide": {
                "url": "https://docs.kbase.us/getting-started/narrative",
                "title": "Narrative Guide"
            },
            "tutorials": {
                "url": "https://docs.kbase.us/workflows",
                "title": "Tutorials"
            },
            "apps": {
                "url": "https://kbase.us/applist",
                "title": "App List"
            },
            "troubleshooting": {
                "url": "https://docs.kbase.us/troubleshooting",
                "title": "Troubleshooting"
            },
            "aboutKBase": {
                "url": "https://www.kbase.us/about/",
                "title": "About KBase"
            },
            "contact": {
                "url": "https://www.kbase.us/support",
                "title": "Support"
            },
            "help": {
                "url": "https://www.kbase.us/support/",
                "title": "Support"
            }
        },
        "allow": [
            "alpha",
            "beta"
        ],
        "featureSwitches": {
            "enabled": [{{ range $i, $v := splitList "," (default "" .Env.ui_featureSwitches_enabled) }}{{if $v }}{{ if $i }}, {{end}}"{{ $v }}"{{ end }}{{ end }}],
            "disabled": [{{ range $i, $v := splitList "," (default "" .Env.ui_featureSwitches_disabled) }}{{if $v }}{{ if $i }}, {{end}}"{{ $v }}"{{ end }}{{ end }}],
            "available": [
                {
                    "id": "orcid_auth_provider",
                    "title": "ORCiD auth provider",
                    "description": "The ORCiD auth provider is"
                },
                {
                    "id": "system_alert_notification",
                    "title": "The New System Alert Notification",
                    "disabled": true
                },
                {
                    "id": "search_features",
                    "title": "Search over Genome Features"
                },
                {
                    "id": "similar_genomes",
                    "title": "Similar Genomes Landing Page Widget"
                },
                {
                    "id": "new_provenance_widget",
                    "title": "New Provenance Widget"
                },
                {
                    "id": "re-lineage",
                    "title": "Lineage driven by Relation Engine"
                },
                {
                    "id": "object-link-to-term",
                    "title": "Data objects linked to ontology terms"
                },
                {
                    "id": "redirect-to-www",
                    "title": "Redirect to www.kbase.us if not physical path, ui hash path, or token"
                },
                {
                    "id": "sampleset-data-links",
                    "title": "Enable data links for sample sets"
                }
            ]
        },
        "coreServices": {
            "disabled": [{{ range $i, $v := splitList "," (default "" .Env.ui_coreServices_disabled) }}{{if $v }}{{ if $i }}, {{end}}"{{ $v }}"{{ end }}{{ end }}]
        },
        "constants": {
            "clientTimeout": 900000,
            "serviceCheckTimeouts": {
                "slow": 3000,
                "hard": 5000
            },
            "tokenCookieChangeDetectionInterval": 1000,
            "tokenValidationInterval": 300000
        },
        "menus": {
            "hamburger": {
                "narrative": {
                    "items": [
                        {
                            "name": "narrative",
                            "type": "internal",
                            "path": "narrativemanager/start",
                            "newWindow": true,
                            "label": "Narrative Interface",
                            "icon": "file"
                        },
                        {
                            "name": "new-narrative",
                            "type": "internal",
                            "path": "narrativemanager/new",
                            "newWindow": true,
                            "label": "New Narrative",
                            "icon": "plus"
                        }
                    ]
                },
                "search": {
                    "items": [
                        {
                            "name": "biochem-search",
                            "type": "internal",
                            "path": "biochem-search",
                            "newWindow": false,
                            "label": "Biochem Search",
                            "icon": "search"
                        },
                        {
                            "name": "jgi-search",
                            "type": "internal",
                            "path": "jgi-search",
                            "newWindow": false,
                            "label": "JGI Search",
                            "icon": "search"
                        },
                        {
                            "name": "public-search",
                            "type": "internal",
                            "path": "public-search",
                            "newWindow": false,
                            "label": "Public Search",
                            "icon": "search",
                            "allowedRoles": [
                                "DevToken"
                            ]
                        }
                    ]
                },
                "developer": {
                    "items": [
                        {
                            "name": "about",
                            "type": "internal",
                            "path": "about",
                            "label": "About KBase UI",
                            "icon": "info-circle"
                        },
                        {
                            "name": "developer",
                            "type": "internal",
                            "path": "developer",
                            "requiresAuth": true,
                            "allowedRoles": [
                                "DevToken"
                            ],
                            "label": "Developer",
                            "icon": "cogs"
                        },
                        {
                            "name": "dashboard4",
                            "label": "Dashboard 4",
                            "type": "internal",
                            "path": "dashboard4",
                            "newWindow": false,
                            "icon": "compass",
                            "requiresAuth": true,
                            "allowedRoles": [
                                "DevToken"
                            ]
                        },
                        {
                            "name": "navigator",
                            "label": "Navigator (internal)",
                            "type": "internal",
                            "path": "navigator",
                            "newWindow": false,
                            "icon": "compass",
                            "requiresAuth": true
                        },
                        {
                            "name": "orcidlink",
                            "label": "KBase ORCID® Link",
                            "type": "internal",
                            "path": "orcidlink",
                            "newWindow": false,
                            "icon": "leaf",
                            "requiresAuth": true
                        },
                         {
                            "name": "orcidlinkdemos",
                            "label": "Credit Engine Demos",
                            "type": "internal",
                            "path": "demos",
                            "newWindow": false,
                            "icon": "code",
                            "requiresAuth": true
                        },
                        {
                            "name": "about-services",
                            "type": "internal",
                            "path": "about/services",
                            "label": "KBase Services Status",
                            "icon": "server"
                        },
                        {
                            "name": "about-plugins",
                            "type": "internal",
                            "path": "about/plugins",
                            "label": "KBase UI Plugins",
                            "icon": "plug"
                        }
                    ]
                },
                "help": {
                    "items": [
                        {
                            "name": "about-kbase",
                            "type": "external",
                            "url": "https://www.kbase.us/about",
                            "newWindow": true,
                            "label": "About KBase",
                            "icon": "info-circle"
                        }, 
                        {
                            "name": "terms-and-conditions",
                            "type": "external",
                            "url": "https://www.kbase.us/about/terms-and-conditions-v2/",
                            "newWindow": true,
                            "label": "Terms & Conditions",
                            "icon": "file-text-o"
                        },
                        {
                            "name": "help",
                            "type": "external",
                            "url": "https://www.kbase.us/support",
                            "newWindow": true,
                            "label": "Support",
                            "icon": "question"
                        }
                    ]
                }
            },
            "sidebar": {
                "items": [
                    {
                        "name": "navigator",
                        "label": "Navigator",
                        "type": "internal",
                        "tooltip": "Narrative Navigator - browse and search Narratives",
                        "path": "navigator",
                        "newWindow": false,
                        "icon": "compass",
                        "requiresAuth": true
                    },
                    {
                        "name": "orgs",
                        "type": "internal",
                        "tooltip": "Browse, search, join and manage KBase Organizations",
                        "path": "orgs",
                        "newWindow": false,
                        "label": "Orgs",
                        "icon": "users",
                        "requiresAuth": true
                    },
                    {
                        "name": "catalog",
                        "type": "internal",
                        "tooltip": "Browse and search a catalog of KBase Narrative Apps and Workspace Types",
                        "path": "catalog/apps",
                        "newWindow": false,
                        "label": "Catalog",
                        "icon": "book",
                        "requiresAuth": false
                    },
                    {
                        "name": "search",
                        "type": "internal",
                        "tooltip": "Search KBase data objects in Narratives and Reference Workspaces",
                        "path": "search",
                        "newWindow": false,
                        "label": "Search",
                        "icon": "search",
                        "requiresAuth": true
                    },
                    {
                        "name": "jobbrowser",
                        "type": "internal",
                        "tooltip": "Browse and manage jobs spawned in your Narratives",
                        "path": "jobbrowser",
                        "newWindow": false,
                        "label": "Jobs",
                        "icon": "suitcase",
                        "requiresAuth": true
                    },
                    {
                        "name": "account",
                        "type": "internal",
                        "tooltip": "Manage your KBase Account",
                        "path": "account",
                        "newWindow": false,
                        "label": "Account",
                        "icon": "drivers-license",
                        "requiresAuth": true
                    },
                    {
                        "name": "feeds",
                        "type": "internal",
                        "tooltip": "Browse and manage notifications from your KBase Feeds",
                        "path": "feeds",
                        "newWindow": false,
                        "label": "Feeds",
                        "icon": "bullhorn",
                        "requiresAuth": true
                    }
                ]
            }
        },
        "defaults": {
            "path": {
                "type": "path",
                "value": "{{ default "/narratives" .Env.DEFAULT_PATH }}"
            },
            "hideHeader": {{ default "false" .Env.HIDE_HEADER }},
            "hideNavigation": {{ default "false" .Env.HIDE_NAVIGATION }}
        }
    },
    "services": {
        "Auth2": {
            "module": "Auth2",
            "aliases": [
                "auth2",
                "auth",
                "Auth"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/{{ default "services/auth" .Env.deploy_services_auth2_path }}",
            "cookieName": "kbase_session",
            "extraCookieNames": [],
            "name": "Authorization Version 2",
            "type": "rest",
            "version": {
                "path": "/",
                "propertyPath": "version"
            },
            "providers": [
                "Google",
                "Globus",
                "OrcID"
            ]
        },
        "Catalog": {
            "module": "Catalog",
            "aliases": [
                "catalog"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/catalog",
            "name": "Catalog",
            "type": "jsonrpc",
            "version": {
                "method": "version"
            }
        },
        "execution_engine2": {
            "module": "execution_engine2",
            "aliases": [
                "ee2",
                "ExecutionEngine2"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/ee2",
            "name": "Execution Engine2",
            "type": "jsonrpc"
        },
        "Feeds": {
            "module": "Feeds",
            "aliases": [
                "feeds"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/feeds",
            "name": "Feeds",
            "type": "rest",
            "version": {
                "path": "/",
                "propertyPath": "version"
            }
        },
        "Groups": {
            "module": "Groups",
            "aliases": [
                "groups"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/groups",
            "name": "Groups",
            "type": "rest",
            "version": {
                "path": "/",
                "propertyPath": "version"
            }
        },
        "NarrativeJobService": {
            "module": "NarrativeJobService",
            "aliases": [
                "narrative_job_service",
                "njs"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/njs_wrapper",
            "name": "Narrative Job Service",
            "type": "jsonrpc",
            "version": {
                "method": "ver"
            }
        },
        "NarrativeMethodStore": {
            "module": "NarrativeMethodStore",
            "aliases": [
                "narrative_method_store"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/narrative_method_store/rpc",
            "image_url": "https://{{ .Env.deploy_hostname }}/services/narrative_method_store/",
            "name": "Narrative Method Store",
            "type": "jsonrpc",
            "version": {
                "method": "ver"
            }
        },
        "UserProfile": {
            "module": "UserProfile",
            "aliases": [
                "user_profile"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/user_profile/rpc",
            "name": "User Profile",
            "type": "jsonrpc",
            "version": {
                "method": "ver"
            }
        },
        "SampleService": {
            "module": "SampleService",
            "url": "https://{{ .Env.deploy_hostname }}/services/sampleservice",
            "name": "Sample Service",
            "type": "jsonrpc"
        },
        "ServiceWizard": {
            "module": "ServiceWizard",
            "aliases": [
                "service_wizard"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/service_wizard",
            "name": "Service Wizard",
            "type": "jsonrpc",
            "version": {
                "method": "version"
            }
        },
        "Workspace": {
            "module": "Workspace",
            "aliases": [
                "workspace"
            ],
            "url": "https://{{ .Env.deploy_hostname }}/services/ws",
            "name": "Workspace",
            "type": "jsonrpc",
            "version": {
                "method": "ver"
            }
        },
        "RelationEngine": {
            "module": "RelationEngine",
            "aliases": [],
            "url": "https://{{ .Env.deploy_hostname }}/services/relation_engine_api",
            "name": "Relation Engine",
            "type": "rest",
            "version": {
                "path": "/",
                "semverNotImplemented": true
            }
        },
        "SearchAPI2": {
            "module": "SearchAPI2",
            "aliases": [],
            "url": "https://{{ .Env.deploy_hostname }}/services/searchapi2/rpc",
            "legacyUrl": "https://{{ .Env.deploy_hostname }}/services/searchapi2/legacy",
            "name": "Search Engine",
            "type": "jsonrpc2"
        },
        "SearchAPI2Legacy": {
            "aliases": [],
            "module": "KBaseSearchEngine",
            "url": "https://{{ .Env.deploy_hostname }}/services/searchapi2/legacy",
            "name": "Search Engine",
            "type": "jsonrpc"
        },
        "ORCIDLink": {
            "aliases": [],
            "module": "ORCIDLink",
            "url": "https://{{ .Env.deploy_hostname }}/services/orcidlink",
            "name": "KBase ORCID® Link",
            "type": "rest",
            "version": {
                "method": "info",
                "propertyPath": "kbase_sdk_config.module-version"
            }
        }
    },
    "dynamicServices": {
        "JobBrowserBFF": {
            "module": "JobBrowserBFF",
            "version": "auto"
        },
        "SampleService": {
            "module": "SampleService",
            "version": "auto"
        },
        "OntologyAPI": {
            "module": "OntologyAPI",
            "version": "dev"
        },
        "TaxonomyAPI": {
            "module": "TaxonomyAPI",
            "version": "auto"
        }
    },
    "release": {
        "version": "2.5.1"
    },
}